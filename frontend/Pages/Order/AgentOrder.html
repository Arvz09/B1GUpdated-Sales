<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Order Form</title>
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/Components/sidebar.css" />
    <link rel="stylesheet" href="/Pages/Order/AgentOrder.css" />
    <link
      href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css"
      rel="stylesheet"
    />


</head>
<body class="min-h-screen py-12 px-4 sm:px-6 bg-neutral-50">
  <section id="sidebar-container"></section>
  <div class="order-form-container max-w-6xl mx-auto">
    <div class="mb-8">
      <h1 class="order-form-header text-3xl">Order Form</h1>
      <p class="order-form-subheader">Fill out the form below to place your order</p>
      
      <div class="flex items-center space-x-4 mt-6">
        <div class="flex items-center space-x-2">
          <div class="switch-container">
            <input type="checkbox" id="client-type-switch" class="switch-input">
            <label for="client-type-switch" class="switch-label"></label>
          </div>
          <label for="client-type-switch" class="text-sm font-medium leading-none">
            <span id="client-type-text">New Client</span>
          </label>
        </div>
      </div>
    </div>
    
    <div class="bg-white p-8 rounded-xl shadow-sm">
      <!-- New Client Form -->
      <form id="new-client-form" class="space-y-6">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-6">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-5 w-5 text-neutral-500"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
              <h2 class="text-xl font-medium">Client Information</h2>
            </div>
            
            <div class="form-group">
              <label for="name" class="form-label">Full Name</label>
              <input type="text" id="name" name="name" placeholder="John Doe" class="input-field" required>
              <p class="error-message" id="name-error"></p>
            </div>
            
            <div class="form-group">
              <label for="shopName" class="form-label">Shop Name</label>
              <input type="text" id="shopName" name="shopName" placeholder="Doe's Shop" class="input-field" required>
              <p class="error-message" id="shopName-error"></p>
            </div>
            
            <div class="form-group">
              <label for="address" class="form-label">Address</label>
              <textarea id="address" name="address" placeholder="123 Main St, City, State, Zip" class="input-field min-h-[80px]" required></textarea>
              <p class="error-message" id="address-error"></p>
            </div>
          </div>
          
          <div class="space-y-6">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-5 w-5 text-neutral-500"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path><path d="M3 6h18"></path><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
              <h2 class="text-xl font-medium">Order Details</h2>
            </div>
            
            <div class="border rounded-md p-4 bg-neutral-50">
              <h3 class="font-medium mb-3">Products (Enter quantity)</h3>
              <div class="space-y-2 max-h-[400px] overflow-y-auto pr-2" id="new-client-products">
                <!-- Product items will be inserted here via JavaScript -->
              </div>
            </div>
            
            <div class="mt-6 pt-6 border-t border-neutral-200">
              <button type="submit" class="w-full bg-neutral-800 hover:bg-neutral-700 text-white form-button" id="new-client-submit">
                Submit Order
              </button>
            </div>
          </div>
        </div>
      </form>

      <!-- Existing Client Form -->
      <form id="existing-client-form" class="space-y-6 hidden">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="space-y-6">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-5 w-5 text-neutral-500"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M22 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
              <h2 class="text-xl font-medium">Select a Client</h2>
            </div>
            
            <div class="relative mb-4">
              <div class="relative">
                <input type="text" id="client-search" placeholder="Search by client or shop name..." class="pl-10 input-field">
                <!-- <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-neutral-400"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg> -->
              </div>
            </div>
            
            <div class="border rounded-md bg-white overflow-hidden">
              <div class="max-h-[350px] overflow-y-auto" id="client-list">
                <!-- Client list will be inserted here via JavaScript -->
              </div>
            </div>
            
            <p class="text-sm font-medium text-red-500 mt-2 hidden" id="clientId-error"></p>
            
            <div class="bg-neutral-50 p-4 rounded-md mt-4 hidden" id="selected-client-info">
              <h3 class="text-sm font-medium text-neutral-800 mb-3">Selected Client</h3>
              <div class="space-y-2 text-sm" id="selected-client-details">
                <!-- Selected client details will be inserted here via JavaScript -->
              </div>
            </div>
          </div>
          
          <div class="space-y-6">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mr-2 h-5 w-5 text-neutral-500"><path d="M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z"></path><path d="M3 6h18"></path><path d="M16 10a4 4 0 0 1-8 0"></path></svg>
              <h2 class="text-xl font-medium">Order Details</h2>
            </div>
            
            <div class="border rounded-md p-4 bg-neutral-50">
              <h3 class="font-medium mb-3">Products (Enter quantity)</h3>
              <div class="space-y-2 max-h-[400px] overflow-y-auto pr-2" id="existing-client-products">
                <!-- Product items will be inserted here via JavaScript -->
              </div>
            </div>
            
            <div class="mt-6 pt-6 border-t border-neutral-200">
              <button type="submit" class="w-full bg-neutral-800 hover:bg-neutral-700 text-white form-button" id="existing-client-submit">
                Submit Order
              </button>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toast-container" class="fixed top-4 right-4 z-50"></div>

  <script>
    fetch("/Components/agentsidebar.html")
      .then((response) => response.text())
      .then((data) => {
        document.getElementById("sidebar-container").innerHTML = data;
        const script = document.createElement("script");
        script.src = "/Components/sidebar.js"; // Load sidebar.js after sidebar.html
        script.defer = true;
        document.body.appendChild(script);
      });
  </script>

  <script src="https://cdn.gpteng.co/gptengineer.js" type="module"></script>
  <script src="/Pages/Order/AgentOrder.js"></script>
</body>
</html>